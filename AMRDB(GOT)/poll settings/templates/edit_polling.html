<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Form</title>
    <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
    <!DOCTYPE html>
    <html lang="en">

    <head>
        <script>
            // Ensure the document is ready before executing JavaScript
            $(document).ready(function() {
                // Fetch and display data when the page loads
                fetchAndDisplayData();

                // Function to fetch and display data
                function fetchAndDisplayData() {
                    var query = "SELECT EVC_TYPE, POLL_CONFIG, POLL_BILLING, POLL_CONFIG_ENABLE, POLL_BILLING_ENABLE FROM AMR_POLL_RANGE";
                    // Update 'your_table_name' with your actual table name

                    $.ajax({
                        type: "POST",
                        url: "/query",
                        data: {
                            query: query
                        },
                        success: function(data) {
                            displayData(data);
                        },
                        error: function(error) {
                            console.log(error);
                            alert("Error fetching data from Oracle!");
                        }
                    });
                }

                // Function to display data
                function displayData(data) {
                    // Assuming you have a div with id "dataContainer" to display the data
                    var container = $("#dataContainer");
                    container.empty();

                    // Check if data is not empty
                    if (data.length > 0) {
                        // Assuming data is an array of rows
                        for (var i = 0; i < data.length; i++) {
                            var row = data[i];
                            container.append("<p>EVC_TYPE: " + row[0] + ", POLL_CONFIG: " + row[1] +
                                ", POLL_BILLING: " + row[2] + ", POLL_CONFIG_ENABLE: " + row[3] +
                                ", POLL_BILLING_ENABLE: " + row[4] + "</p>");
                        }
                    } else {
                        container.append("<p>No data found</p>");
                    }
                }
            });
        </script>
    </head>

    <body>

        <h1>Poll Configurator</h1>

        <label for="myDropdown">Select EVC_TYPE:</label>
        <select id="myDropdown">
        <!-- Add options here if needed -->
    </select>

        <!-- Add the rest of your HTML code here -->

    </body>

    <body>
        <div class="address-pair">
            <label for="start1">Start Address:</label>
            <input type="text" id="start1" name="start1" required>
            <label for="end1">End Address:</label>
            <input type="text" id="end1" name="end1" required>
            <label for="enable1">Enable:</label>
            <input type="checkbox" id="enable1" name="enable1" checked>
        </div>

        <!-- Address Pair 2 -->
        <div class="address-pair">
            <label for="start2">Start Address:</label>
            <input type="text" id="start2" name="start2" required>
            <label for="end2">End Address:</label>
            <input type="text" id="end2" name="end2" required>
            <label for="enable2">Enable:</label>
            <input type="checkbox" id="enable2" name="enable2" checked>
        </div>

        <!-- Address Pair 3 -->
        <div class="address-pair">
            <label for="start3">Start Address:</label>
            <input type="text" id="start3" name="start3" required>
            <label for="end3">End Address:</label>
            <input type="text" id="end3" name="end3" required>
            <label for="enable3">Enable:</label>
            <input type="checkbox" id="enable3" name="enable3" checked>
        </div>

        <!-- Address Pair 4 -->
        <div class="address-pair">
            <label for="start4">Start Address:</label>
            <input type="text" id="start4" name="start4" required>
            <label for="end4">End Address:</label>
            <input type="text" id="end4" name="end4" required>
            <label for="enable4">Enable:</label>
            <input type="checkbox" id="enable4" name="enable4" checked>
        </div>

        <!-- Address Pair 5 -->
        <div class="address-pair">
            <label for="start5">Start Address:</label>
            <input type="text" id="start5" name="start5" required>
            <label for="end5">End Address:</label>
            <input type="text" id="end5" name="end5" required>
            <label for="enable5">Enable:</label>
            <input type="checkbox" id="enable5" name="enable5" checked>
        </div>
        </form>

        <h1>Poll Billing</h1>
        </form>
        <div class="address-pair">
            <label for="start6">Start Address:</label>
            <input type="text" id="start6" name="start6" required>
            <label for="end6">End Address:</label>
            <input type="text" id="end6" name="end6" required>
            <label for="enable6">Enable:</label>
            <input type="checkbox" id="enable6" name="enable6" checked>
        </div>

        <!-- Address Pair 7 -->
        <div class="address-pair">
            <label for="start7">Start Address:</label>
            <input type="text" id="start7" name="start7" required>
            <label for="end7">End Address:</label>
            <input type="text" id="end7" name="end7" required>
            <label for="enable7">Enable:</label>
            <input type="checkbox" id="enable7" name="enable7" checked>
        </div>

        <!-- Address Pair 8 -->
        <div class="address-pair">
            <label for="start8">Start Address:</label>
            <input type="text" id="start8" name="start8" required>
            <label for="end8">End Address:</label>
            <input type="text" id="end8" name="end8" required>
            <label for="enable8">Enable:</label>
            <input type="checkbox" id="enable8" name="enable8" checked>
        </div>

        <!-- Address Pair 9 -->
        <div class="address-pair">
            <label for="start9">Start Address:</label>
            <input type="text" id="start9" name="start9" required>
            <label for="end9">End Address:</label>
            <input type="text" id="end9" name="end9" required>
            <label for="enable9">Enable:</label>
            <input type="checkbox" id="enable9" name="enable9" checked>
        </div>

        <!-- Address Pair 10 -->
        <div class="address-pair">
            <label for="start10">Start Address:</label>
            <input type="text" id="start10" name="start10" required>
            <label for="end10">End Address:</label>
            <input type="text" id="end10" name="end10" required>
            <label for="enable10">Enable:</label>
            <input type="checkbox" id="enable10" name="enable10" checked>
        </div>

        <!-- Address Pair 11 -->
        <div class="address-pair">
            <label for="start11">Start Address:</label>
            <input type="text" id="start11" name="start11" required>
            <label for="end11">End Address:</label>
            <input type="text" id="end11" name="end11" required>
            <label for="enable11">Enable:</label>
            <input type="checkbox" id="enable11" name="enable11" checked>
        </div>

        <!-- Address Pair 12 -->
        <div class="address-pair">
            <label for="start12">Start Address:</label>
            <input type="text" id="start12" name="start12" required>
            <label for="end12">End Address:</label>
            <input type="text" id="end12" name="end12" required>
            <label for="enable12">Enable:</label>
            <input type="checkbox" id="enable12" name="enable12" checked>
        </div>

        <!-- Address Pair 13 -->
        <div class="address-pair">
            <label for="start13">Start Address:</label>
            <input type="text" id="start13" name="start13" required>
            <label for="end13">End Address:</label>
            <input type="text" id="end13" name="end13" required>
            <label for="enable13">Enable:</label>
            <input type="checkbox" id="enable13" name="enable13" checked>
        </div>

        <!-- Address Pair 14 -->
        <div class="address-pair">
            <label for="start14">Start Address:</label>
            <input type="text" id="start14" name="start14" required>
            <label for="end14">End Address:</label>
            <input type="text" id="end14" name="end14" required>
            <label for="enable14">Enable:</label>
            <input type="checkbox" id="enable14" name="enable14" checked>
        </div>

        <!-- Address Pair 15 -->
        <div class="address-pair">
            <label for="start15">Start Address:</label>
            <input type="text" id="start15" name="start15" required>
            <label for="end15">End Address:</label>
            <input type="text" id="end15" name="end15" required>
            <label for="enable15">Enable:</label>
            <input type="checkbox" id="enable15" name="enable15" checked>
        </div>
        </form>


        <button type="button" onclick="saveToOracle()">Save to Oracle</button>
        <div id="statusMessage"></div>

    </body>

    </html>