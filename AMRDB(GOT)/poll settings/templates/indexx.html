<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Address Form</title>
</head>

<body>
    <h1>Poll Configurator</h1>

    <!-- Config Pair 1 -->
    <label for="config1">Config 1:</label>
    <input type="text" id="config1" name="config1" required><br>

    <!-- Config Pair 2 -->
    <label for="config2">Config 2:</label>
    <input type="text" id="config2" name="config2" required><br>

    <!-- Config Pair 3 -->
    <label for="config3">Config 3:</label>
    <input type="text" id="config3" name="config3" required><br>

    <!-- Config Pair 4 -->
    <label for="config4">Config 4:</label>
    <input type="text" id="config4" name="config4" required><br>

    <!-- Config Pair 5 -->
    <label for="config5">Config 5:</label>
    <input type="text" id="config5" name="config5" required><br>

    <!-- Config Pair 6 -->
    <label for="config6">Config 6:</label>
    <input type="text" id="config6" name="config6" required><br>

    <!-- Config Pair 7 -->
    <label for="config7">Config 7:</label>
    <input type="text" id="config7" name="config7" required><br>

    <!-- Config Pair 8 -->
    <label for="config8">Config 8:</label>
    <input type="text" id="config8" name="config8" required><br>

    <!-- Config Pair 9 -->
    <label for="config9">Config 9:</label>
    <input type="text" id="config9" name="config9" required><br>

    <!-- Config Pair 10 -->
    <label for="config10">Config 10:</label>
    <input type="text" id="config10" name="config10" required><br>

    <!-- Config Pair 11 -->
    <label for="config11">Config 11:</label>
    <input type="text" id="config11" name="config11" required><br>

    <!-- Config Pair 12 -->
    <label for="config12">Config 12:</label>
    <input type="text" id="config12" name="config12" required><br>

    <!-- Config Pair 13 -->
    <label for="config13">Config 13:</label>
    <input type="text" id="config13" name="config13" required><br>

    <!-- Config Pair 14 -->
    <label for="config14">Config 14:</label>
    <input type="text" id="config14" name="config14" required><br>

    <!-- Config Pair 15 -->
    <label for="config15">Config 15:</label>
    <input type="text" id="config15" name="config15" required><br>

    <!-- Config Pair 16 -->
    <label for="config16">Config 16:</label>
    <input type="text" id="config16" name="config16" required><br>

    <!-- Config Pair 17 -->
    <label for="config17">Config 17:</label>
    <input type="text" id="config17" name="config17" required><br>

    <!-- Config Pair 18 -->
    <label for="config18">Config 18:</label>
    <input type="text" id="config18" name="config18" required><br>

    <!-- Config Pair 19 -->
    <label for="config19">Config 19:</label>
    <input type="text" id="config19" name="config19" required><br>

    <!-- Config Pair 20 -->
    <label for="config20">Config 20:</label>
    <input type="text" id="config20" name="config20" required><br>

    <button type="button" onclick="saveToOracle()">Save to Oracle</button>
    <div id="statusMessage"></div>

    <script>
        function saveToOracle() {
            var data = {};
            var validDataEntered = false; // Flag to check if at least one valid address is entered

            // Loop through address pairs 1 through 20
            for (var i = 1; i <= 20; i++) {
                var startKey = 'start' + i;
                var startValue = document.getElementById(startKey).value;

                // Ensure at least one valid start address is provided
                if (startValue) {
                    validDataEntered = true;
                }

                data[startKey] = startValue;
            }

            // Check if at least one valid address is entered for both configurations
            if (!validDataEntered) {
                document.getElementById("statusMessage").innerHTML = "Please enter at least one valid start address for both configurations.";
                return;
            }

            // Mock Fetch, replace with actual endpoint
            fetch('/save_to_oracle', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(data),
                })
                .then(response => response.json())
                .then(data => {
                    console.log('Success:', data);
                    document.getElementById("statusMessage").innerHTML = data.message;
                })
                .catch((error) => {
                    console.error('Error:', error);
                    document.getElementById("statusMessage").innerHTML = "An error occurred while saving data.";
                });
        }
    </script>
</body>
</body>

</html>