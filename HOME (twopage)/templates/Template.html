<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Advanced Table Application</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>

    <div id="app-container">
        <h2>Advanced Table Application</h2>
        
        <input type="text" id="searchInput" placeholder="Search by name...">
        <button onclick="searchTable()">Search</button>

        <table id="advancedTable">
            <thead>
                <tr>
                    <th>Name</th>
                    <th>Age</th>
                    <th>City</th>
                    <th>Action</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>John Doe</td>
                    <td>30</td>
                    <td>New York</td>
                    <td><button onclick="openModal('John Doe', 30, 'New York')">View Details</button></td>
                </tr>
                <tr>
                    <td>Jane Smith</td>
                    <td>25</td>
                    <td>Los Angeles</td>
                    <td><button onclick="openModal('Jane Smith', 25, 'Los Angeles')">View Details</button></td>
                </tr>
                <!-- Add more rows as needed -->
            </tbody>
        </table>

        <!-- Modal for displaying details -->
        <div id="detailsModal" class="modal">
            <div class="modal-content">
                <span class="close" onclick="closeModal()">&times;</span>
                <h3 id="modalTitle"></h3>
                <p id="modalDetails"></p>
            </div>
        </div>
    </div>

    <script>
        function searchTable() {
            var input, filter, table, tr, td, i, txtValue;
            input = document.getElementById("searchInput");
            filter = input.value.toUpperCase();
            table = document.getElementById("advancedTable");
            tr = table.getElementsByTagName("tr");

            for (i = 0; i < tr.length; i++) {
                td = tr[i].getElementsByTagName("td")[0]; // Column index 0 for Name
                if (td) {
                    txtValue = td.textContent || td.innerText;
                    if (txtValue.toUpperCase().indexOf(filter) > -1) {
                        tr[i].style.display = "";
                    } else {
                        tr[i].style.display = "none";
                    }
                }
            }
        }

        function openModal(name, age, city) {
            var modal = document.getElementById("detailsModal");
            var modalTitle = document.getElementById("modalTitle");
            var modalDetails = document.getElementById("modalDetails");

            modalTitle.textContent = "Details for " + name;
            modalDetails.innerHTML = "Age: " + age + "<br>City: " + city;

            modal.style.display = "block";
        }

        function closeModal() {
            var modal = document.getElementById("detailsModal");
            modal.style.display = "none";
        }

        // Close modal if user clicks outside of it
        window.onclick = function(event) {
            var modal = document.getElementById("detailsModal");
            if (event.target == modal) {
                modal.style.display = "none";
            }
        }
    </script>

</body>
</html>
